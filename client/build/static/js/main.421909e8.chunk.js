(this["webpackJsonpmern-client"]=this["webpackJsonpmern-client"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(75),i=n.n(r),s=(n(92),n(7)),o=n(17),l=n(5),d=n(82),j=n(110),u=n(112),b=n(109),O=n(80),h=n(10);function p(e,t){return 1===t?e:e+"s"}function m(e,t,n){return new Promise((function(c,a){var r,i,s,o=window.indexedDB.open("shop-shop",1);o.onupgradeneeded=function(e){var t=o.result;t.createObjectStore("products",{keyPath:"_id"}),t.createObjectStore("categories",{keyPath:"_id"}),t.createObjectStore("cart",{keyPath:"_id"})},o.onerror=function(e){console.log("There was an error")},o.onsuccess=function(a){switch(r=o.result,i=r.transaction(e,"readwrite"),s=i.objectStore(e),r.onerror=function(e){console.log("error",e)},t){case"put":s.put(n),c(n);break;case"get":var l=s.getAll();l.onsuccess=function(){c(l.result)};break;case"delete":s.delete(n._id);break;default:console.log("No valid method")}i.oncomplete=function(){r.close()}}}))}var x=n(83),f=n(16),g="UPDATE_PRODUCTS",v="ADD_TO_CART",y="ADD_MULTIPLE_TO_CART",w="REMOVE_FROM_CART",N="UPDATE_CART_QUANTITY",k="TOGGLE_CART",_=function(e,t){switch(t.type){case g:return Object(s.a)(Object(s.a)({},e),{},{products:Object(f.a)(t.products)});case v:return Object(s.a)(Object(s.a)({},e),{},{cartOpen:!0,cart:[].concat(Object(f.a)(e.cart),[t.product])});case y:return Object(s.a)(Object(s.a)({},e),{},{cart:[].concat(Object(f.a)(e.cart),Object(f.a)(t.products))});case N:return Object(s.a)(Object(s.a)({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.purchaseQuantity=t.purchaseQuantity),e}))});case w:var n=e.cart.filter((function(e){return e._id!==t._id}));return Object(s.a)(Object(s.a)({},e),{},{cartOpen:n.length>0,cart:n});case"CLEAR_CART":return Object(s.a)(Object(s.a)({},e),{},{cartOpen:!1,cart:[]});case k:return Object(s.a)(Object(s.a)({},e),{},{cartOpen:!e.cartOpen});case"UPDATE_CATEGORIES":return Object(s.a)(Object(s.a)({},e),{},{categories:Object(f.a)(t.categories)});case"UPDATE_CURRENT_CATEGORY":return Object(s.a)(Object(s.a)({},e),{},{currentCategory:t.currentCategory});default:return e}};var C=n(2),T=["value"],S=Object(c.createContext)(),E=S.Provider,A=function(e){e.value;var t,n=Object(x.a)(e,T),a=(t={products:[],cart:[],cartOpen:!1,categories:[],currentCategory:""},Object(c.useReducer)(_,t)),r=Object(h.a)(a,2),i=r[0],o=r[1];return Object(C.jsx)(E,Object(s.a)({value:[i,o]},n))},P=function(){return Object(c.useContext)(S)};var D,I,$,q,Q,R=function(e){var t=P(),n=Object(h.a)(t,2),c=n[0],a=n[1],r=e.image,i=e.name,l=e._id,d=e.price,j=e.quantity,u=c.cart;return Object(C.jsxs)("div",{className:"card px-1 py-1",children:[Object(C.jsxs)(o.b,{to:"/products/".concat(l),children:[Object(C.jsx)("img",{alt:i,src:"/images/".concat(r)}),Object(C.jsx)("p",{children:i})]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{children:[j," ",p("item",j)," in stock"]}),Object(C.jsxs)("span",{children:["$",d]})]}),Object(C.jsx)("button",{onClick:function(){var t=u.find((function(e){return e._id===l}));t?(a({type:N,_id:l,purchaseQuantity:parseInt(t.purchaseQuantity)+1}),m("cart","put",Object(s.a)(Object(s.a)({},t),{},{purchaseQuantity:parseInt(t.purchaseQuantity)+1}))):(a({type:v,product:Object(s.a)(Object(s.a)({},e),{},{purchaseQuantity:1})}),m("cart","put",Object(s.a)(Object(s.a)({},e),{},{purchaseQuantity:1})))},children:"Add to cart"})]})},U=n(84),F=n(19),L=n(111),M=Object(L.a)(D||(D=Object(F.a)(["\n  query getProducts($category: ID) {\n    products(category: $category) {\n      _id\n      name\n      description\n      price\n      quantity\n      image\n      category {\n        _id\n      }\n    }\n  }\n"]))),W=Object(L.a)(I||(I=Object(F.a)(["\n  query getCheckout($products: [ID]!) {\n    checkout(products: $products) {\n      session\n    }\n  }\n"]))),B=(Object(L.a)($||($=Object(F.a)(["\n  {\n    products {\n      _id\n      name\n      description\n      price\n      quantity\n      category {\n        name\n      }\n    }\n  }\n"]))),Object(L.a)(q||(q=Object(F.a)(["\n  {\n    categories {\n      _id\n      name\n    }\n  }\n"]))),Object(L.a)(Q||(Q=Object(F.a)(["\n  {\n    user {\n      firstName\n      lastName\n      orders {\n        _id\n        purchaseDate\n        products {\n          _id\n          name\n          description\n          price\n          quantity\n          image\n        }\n      }\n    }\n  }\n"])))),G=n.p+"static/media/spinner.7e729fec.gif";var Y,H,z=function(){var e=P(),t=Object(h.a)(e,2),n=t[0],a=t[1],r=n.currentCategory,i=Object(U.b)(M),s=i.loading,o=i.data;return Object(c.useEffect)((function(){o?(a({type:g,products:o.products}),o.products.forEach((function(e){m("products","put",e)}))):s||m("products","get").then((function(e){a({type:g,products:e})}))}),[o,s,a]),Object(C.jsxs)("div",{className:"my-2",children:[Object(C.jsx)("h2",{children:"Our Products:"}),n.products.length?Object(C.jsx)("div",{className:"flex-row",children:(r?n.products.filter((function(e){return e.category._id===r})):n.products).map((function(e){return Object(C.jsx)(R,{_id:e._id,image:e.image,name:e.name,price:e.price,quantity:e.quantity},e._id)}))}):Object(C.jsx)("h3",{children:"You haven't added any products yet!"}),s?Object(C.jsx)("img",{src:G,alt:"loading"}):null]})},J=n(8),V=n(15),K=n(76),X=n(106),Z=function(e){var t=e.item,n=P(),c=Object(h.a)(n,2)[1];return Object(C.jsxs)("div",{className:"flex-row",children:[Object(C.jsx)("div",{children:Object(C.jsx)("img",{src:"/images/".concat(t.image),alt:""})}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{children:[t.name,", $",t.price]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{children:"Qty:"}),Object(C.jsx)("input",{type:"number",placeholder:"1",value:t.purchaseQuantity,onChange:function(e){var n=e.target.value;"0"===n?(c({type:w,_id:t._id}),m("cart","delete",Object(s.a)({},t))):(c({type:N,_id:t._id,purchaseQuantity:parseInt(n)}),m("cart","put",Object(s.a)(Object(s.a)({},t),{},{purchaseQuantity:parseInt(n)})))}}),Object(C.jsx)("span",{role:"img","aria-label":"trash",onClick:function(){return function(e){c({type:w,_id:e._id}),m("cart","delete",Object(s.a)({},e))}(t)},children:"\ud83d\uddd1\ufe0f"})]})]})]})},ee=n(31),te=n(30),ne=n(64),ce=n.n(ne),ae=new(function(){function e(){Object(ee.a)(this,e)}return Object(te.a)(e,[{key:"getProfile",value:function(){return ce()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return ce()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),re=(n(96),Object(K.a)("pk_test_TYooMQauvdEDq54NiTphI7jx")),ie=function(){var e=P(),t=Object(h.a)(e,2),n=t[0],a=t[1],r=Object(X.a)(W),i=Object(h.a)(r,2),s=i[0],o=i[1].data;function l(){a({type:k})}return Object(c.useEffect)((function(){o&&re.then((function(e){e.redirectToCheckout({sessionId:o.checkout.session})}))}),[o]),Object(c.useEffect)((function(){function e(){return(e=Object(V.a)(Object(J.a)().mark((function e(){var t;return Object(J.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("cart","get");case 2:t=e.sent,a({type:y,products:Object(f.a)(t)});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.cart.length||function(){e.apply(this,arguments)}()}),[n.cart.length,a]),n.cartOpen?Object(C.jsxs)("div",{className:"cart",children:[Object(C.jsx)("div",{className:"close",onClick:l,children:"[close]"}),Object(C.jsx)("h2",{children:"Shopping Cart"}),n.cart.length?Object(C.jsxs)("div",{children:[n.cart.map((function(e){return Object(C.jsx)(Z,{item:e},e._id)})),Object(C.jsxs)("div",{className:"flex-row space-between",children:[Object(C.jsxs)("strong",{children:["Total: $",function(){var e=0;return n.cart.forEach((function(t){e+=t.price*t.purchaseQuantity})),e.toFixed(2)}()]}),ae.loggedIn()?Object(C.jsx)("button",{onClick:function(){var e=[];n.cart.forEach((function(t){for(var n=0;n<t.purchaseQuantity;n++)e.push(t._id)})),s({variables:{products:e}})},children:"Checkout"}):Object(C.jsx)("span",{children:"(log in to check out)"})]})]}):Object(C.jsxs)("h3",{children:[Object(C.jsx)("span",{role:"img","aria-label":"shocked",children:"\ud83d\ude31"}),"You haven't added anything to your cart yet!"]})]}):Object(C.jsx)("div",{className:"cart-closed",onClick:l,children:Object(C.jsx)("span",{role:"img","aria-label":"trash",children:"\ud83d\uded2"})})},se=n(42),oe=n.p+"static/media/title.cc14294a.mp4",le=se.a.div(Y||(Y=Object(F.a)(["\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.5);\n  color: #f1f1f1;\n  max-height: 30%;\n  padding: 2%;\n"]))),de=se.a.div(H||(H=Object(F.a)(["\n  position: relative;\n"])));function je(){return Object(C.jsxs)(de,{children:[Object(C.jsx)("video",{className:"video",autoPlay:!0,muted:!0,loop:!0,children:Object(C.jsx)("source",{src:oe,type:"video/mp4"})}),Object(C.jsxs)(le,{className:"content",children:[Object(C.jsx)("h1",{style:{fontSize:"2vw"},children:"About Us"}),Object(C.jsx)("p",{style:{fontSize:"1vw"},children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia, molestiae quas vel sint commodi repudiandae consequuntur voluptatum laborum numquam blanditiis harum quisquam eius sed odit fugiat iusto fuga praesentium optio, eaque rerum! Provident similique accusantium nemo autem."})]})]})}function ue(){return Object(C.jsx)("div",{className:"band",children:Object(C.jsx)("h1",{children:"FEATURED BAND"})})}n(98),n(99);function be(){return Object(C.jsx)("div",{className:"container mt-5",children:Object(C.jsx)("div",{className:"d-flex justify-content-center row",children:Object(C.jsx)("div",{className:"col-md-6",children:Object(C.jsxs)("div",{className:"bg-white comment-section",children:[Object(C.jsx)("div",{className:"d-flex flex-row user p-2",children:Object(C.jsxs)("div",{className:"d-flex flex-column ml-2",children:[Object(C.jsx)("span",{className:"name font-weight-bold",children:"Chris Hemsworth"}),Object(C.jsx)("span",{children:"10:30 PM, May 25"})]})}),Object(C.jsx)("div",{className:"mt-2 p-2",children:Object(C.jsx)("p",{className:"comment-content",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."})}),Object(C.jsxs)("div",{className:"d-flex justify-content-between p-3 border-top",children:[Object(C.jsx)("span",{children:"Leave a comment"}),Object(C.jsxs)("div",{className:"d-flex align-items-center border-left px-3 comments",children:[Object(C.jsx)("i",{className:"fa fa-comment"}),Object(C.jsx)("span",{className:"ml-2"})]})]})]})})})})}var Oe=function(){return Object(C.jsxs)("div",{children:[Object(C.jsx)(je,{}),Object(C.jsx)(ue,{}),Object(C.jsx)(z,{}),Object(C.jsx)(be,{}),Object(C.jsx)(ie,{})]})};var he=function(){var e=P(),t=Object(h.a)(e,2),n=t[0],a=t[1],r=Object(l.o)().id,i=Object(c.useState)({}),d=Object(h.a)(i,2),j=d[0],u=d[1],b=Object(U.b)(M),O=b.loading,p=b.data,x=n.products,f=n.cart;return Object(c.useEffect)((function(){x.length?u(x.find((function(e){return e._id===r}))):p?(a({type:g,products:p.products}),p.products.forEach((function(e){m("products","put",e)}))):O||m("products","get").then((function(e){a({type:g,products:e})}))}),[x,p,O,a,r]),Object(C.jsxs)(C.Fragment,{children:[j&&f?Object(C.jsxs)("div",{className:"container my-1",children:[Object(C.jsx)(o.b,{to:"/",children:"\u2190 Back to Products"}),Object(C.jsx)("h2",{children:j.name}),Object(C.jsx)("p",{children:j.description}),Object(C.jsxs)("p",{children:[Object(C.jsx)("strong",{children:"Price:"}),"$",j.price," ",Object(C.jsx)("button",{onClick:function(){var e=f.find((function(e){return e._id===r}));e?(a({type:N,_id:r,purchaseQuantity:parseInt(e.purchaseQuantity)+1}),m("cart","put",Object(s.a)(Object(s.a)({},e),{},{purchaseQuantity:parseInt(e.purchaseQuantity)+1}))):(a({type:v,product:Object(s.a)(Object(s.a)({},j),{},{purchaseQuantity:1})}),m("cart","put",Object(s.a)(Object(s.a)({},j),{},{purchaseQuantity:1})))},children:"Add to Cart"}),Object(C.jsx)("button",{disabled:!f.find((function(e){return e._id===j._id})),onClick:function(){a({type:w,_id:j._id}),m("cart","delete",Object(s.a)({},j))},children:"Remove from Cart"})]}),Object(C.jsx)("img",{src:"/images/".concat(j.image),alt:j.name})]}):null,O?Object(C.jsx)("img",{src:G,alt:"loading"}):null,Object(C.jsx)(ie,{})]})};var pe,me,xe,fe=function(e){var t=e.children;return Object(C.jsx)("div",{style:{height:560,clear:"both",paddingTop:120,textAlign:"center"},children:t})},ge=function(){return Object(C.jsx)("div",{className:"noMatch",children:Object(C.jsxs)(fe,{children:[Object(C.jsx)("h1",{children:"404 Page Not Found"}),Object(C.jsx)("h1",{children:Object(C.jsx)("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji",children:"\ud83d\ude44"})})]})})},ve=n(14),ye=n(107),we=Object(L.a)(pe||(pe=Object(F.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),Ne=Object(L.a)(me||(me=Object(F.a)(["\n  mutation addOrder($products: [ID]!) {\n    addOrder(products: $products) {\n      purchaseDate\n      products {\n        _id\n        name\n        description\n        price\n        quantity\n        category {\n          name\n        }\n      }\n    }\n  }\n"]))),ke=Object(L.a)(xe||(xe=Object(F.a)(["\n  mutation addUser(\n    $firstName: String!\n    $lastName: String!\n    $email: String!\n    $password: String!\n  ) {\n    addUser(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      password: $password\n    ) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"])));var _e=function(e){var t=Object(c.useState)({email:"",password:""}),n=Object(h.a)(t,2),a=n[0],r=n[1],i=Object(ye.a)(we),l=Object(h.a)(i,2),d=l[0],j=l[1].error,u=function(){var e=Object(V.a)(Object(J.a)().mark((function e(t){var n,c;return Object(J.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d({variables:{email:a.email,password:a.password}});case 4:n=e.sent,c=n.data.login.token,ae.login(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t=e.target,n=t.name,c=t.value;r(Object(s.a)(Object(s.a)({},a),{},Object(ve.a)({},n,c)))};return Object(C.jsxs)("div",{className:"login-page",children:[Object(C.jsx)(o.b,{className:"form-link",to:"/signup",children:"\u2190 Go to Signup"}),Object(C.jsxs)("div",{className:"login-container",children:[Object(C.jsx)("h2",{children:"Login"}),Object(C.jsxs)("form",{onSubmit:u,children:[Object(C.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(C.jsx)("label",{htmlFor:"email",children:"Email address:"}),Object(C.jsx)("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:b})]}),Object(C.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(C.jsx)("label",{htmlFor:"pwd",children:"Password:"}),Object(C.jsx)("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:b})]}),j?Object(C.jsx)("div",{children:Object(C.jsx)("p",{className:"error-text",children:"The provided credentials are incorrect"})}):null,Object(C.jsx)("div",{className:"flex-row flex-end",children:Object(C.jsx)("button",{type:"submit",children:"Submit"})})]})]})]})};var Ce=function(e){var t=Object(c.useState)({email:"",password:""}),n=Object(h.a)(t,2),a=n[0],r=n[1],i=Object(ye.a)(ke),l=Object(h.a)(i,1)[0],d=function(){var e=Object(V.a)(Object(J.a)().mark((function e(t){var n,c;return Object(J.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,l({variables:{email:a.email,password:a.password,firstName:a.firstName,lastName:a.lastName}});case 3:n=e.sent,c=n.data.addUser.token,ae.login(c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(e){var t=e.target,n=t.name,c=t.value;r(Object(s.a)(Object(s.a)({},a),{},Object(ve.a)({},n,c)))};return Object(C.jsx)("div",{className:"signup-page",children:Object(C.jsxs)("div",{children:[Object(C.jsx)(o.b,{className:"form-link",to:"/login",children:"\u2190 Go to Login"}),Object(C.jsxs)("div",{className:"signup-container",children:[Object(C.jsx)("h2",{children:"Signup"}),Object(C.jsxs)("form",{onSubmit:d,children:[Object(C.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(C.jsx)("label",{htmlFor:"firstName",children:"First Name:"}),Object(C.jsx)("input",{placeholder:"First",name:"firstName",type:"firstName",id:"firstName",onChange:j})]}),Object(C.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(C.jsx)("label",{htmlFor:"lastName",children:"Last Name:"}),Object(C.jsx)("input",{placeholder:"Last",name:"lastName",type:"lastName",id:"lastName",onChange:j})]}),Object(C.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(C.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(C.jsx)("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:j})]}),Object(C.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(C.jsx)("label",{htmlFor:"pwd",children:"Password:"}),Object(C.jsx)("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:j})]}),Object(C.jsx)("div",{className:"flex-row flex-end",children:Object(C.jsx)("button",{type:"submit",children:"Submit"})})]})]})]})})};var Te=function(){return Object(C.jsxs)("header",{className:"flex-row px-1",children:[Object(C.jsx)("h1",{children:Object(C.jsx)(o.b,{to:"/",children:"TURNIP"})}),Object(C.jsx)("nav",{children:ae.loggedIn()?Object(C.jsxs)("ul",{className:"flex-row",children:[Object(C.jsx)("li",{className:"mx-1",children:Object(C.jsx)(o.b,{to:"/orderHistory",children:"Order History"})}),Object(C.jsx)("li",{className:"mx-1",children:Object(C.jsx)("a",{href:"/",onClick:function(){return ae.logout()},children:"Logout"})})]}):Object(C.jsxs)("ul",{className:"flex-row",children:[Object(C.jsx)("li",{className:"mx-1",children:Object(C.jsx)(o.b,{to:"/signup",children:"Signup"})}),Object(C.jsx)("li",{className:"mx-1",children:Object(C.jsx)(o.b,{to:"/login",children:"Login"})})]})})]})};var Se=function(){var e=Object(ye.a)(Ne),t=Object(h.a)(e,1)[0];return Object(c.useEffect)((function(){function e(){return(e=Object(V.a)(Object(J.a)().mark((function e(){var n,c,a,r;return Object(J.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("cart","get");case 2:if(n=e.sent,!(c=n.map((function(e){return e._id}))).length){e.next=11;break}return e.next=7,t({variables:{products:c}});case 7:a=e.sent,r=a.data,r.addOrder.products.forEach((function(e){m("cart","delete",e)}));case 11:setTimeout((function(){window.location.assign("/")}),3e3);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(C.jsx)("div",{className:"success",children:Object(C.jsxs)(fe,{children:[Object(C.jsx)("h1",{children:"Success!"}),Object(C.jsx)("h2",{children:"Thank you for your purchase!"}),Object(C.jsx)("h2",{children:"You will now be redirected to the home page."})]})})};var Ee=function(){var e,t=Object(U.b)(B).data;return t&&(e=t.user),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"container my-1",children:[Object(C.jsx)(o.b,{to:"/",children:"\u2190 Back to Products"}),e?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{}),Object(C.jsxs)("h2",{children:["Order History for ",e.firstName," ",e.lastName]}),e.orders.map((function(e){return Object(C.jsxs)("div",{className:"my-2",children:[Object(C.jsx)("h3",{children:new Date(parseInt(e.purchaseDate)).toLocaleDateString()}),Object(C.jsx)("div",{className:"flex-row",children:e.products.map((function(e,t){var n=e._id,c=e.image,a=e.name,r=e.price;return Object(C.jsxs)("div",{className:"card px-1 py-1",children:[Object(C.jsxs)(o.b,{to:"/products/".concat(n),children:[Object(C.jsx)("img",{alt:a,src:"/images/".concat(c)}),Object(C.jsx)("p",{children:a})]}),Object(C.jsx)("div",{children:Object(C.jsxs)("span",{children:["$",r]})})]},t)}))})]},e._id)}))]}):null]})})},Ae=Object(d.a)({uri:"/graphql"}),Pe=Object(O.a)((function(e,t){var n=t.headers,c=localStorage.getItem("id_token");return{headers:Object(s.a)(Object(s.a)({},n),{},{authorization:c?"Bearer ".concat(c):""})}})),De=new j.a({link:Pe.concat(Ae),cache:new u.a});var Ie=function(){return Object(C.jsx)(b.a,{client:De,children:Object(C.jsx)(o.a,{children:Object(C.jsx)("div",{children:Object(C.jsxs)(A,{children:[Object(C.jsx)(Te,{}),Object(C.jsxs)(l.c,{children:[Object(C.jsx)(l.a,{path:"/",element:Object(C.jsx)(Oe,{})}),Object(C.jsx)(l.a,{path:"/login",element:Object(C.jsx)(_e,{})}),Object(C.jsx)(l.a,{path:"/signup",element:Object(C.jsx)(Ce,{})}),Object(C.jsx)(l.a,{path:"/success",element:Object(C.jsx)(Se,{})}),Object(C.jsx)(l.a,{path:"/orderHistory",element:Object(C.jsx)(Ee,{})}),Object(C.jsx)(l.a,{path:"/products/:id",element:Object(C.jsx)(he,{})}),Object(C.jsx)(l.a,{path:"*",element:Object(C.jsx)(ge,{})})]})]})})})})},$e=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function qe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(Ie,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");$e?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):qe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):qe(t,e)}))}}()},92:function(e,t,n){},96:function(e,t,n){},99:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.421909e8.chunk.js.map